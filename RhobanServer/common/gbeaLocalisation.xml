<?xml version="1.0" ?>
<LocalisationTest>
	<ballExploration>10</ballExploration>
	<ballResampling>0.0</ballResampling>
	<benchmark>false</benchmark>
	<benchmarkDetail>1</benchmarkDetail>
	<compassOffset>125</compassOffset>
	<csp>
		<className>SchedulerRequester</className>
	</csp>
	<embedded>true</embedded>
	<fieldResampling>0.002</fieldResampling>
	<imageDelay>30</imageDelay>
	<nbParticlesBF>1000</nbParticlesBF>
	<nbParticlesFF>1000</nbParticlesFF>
	<pipeline>
		<filter>
			<className>FREAK</className>
			<debugLevel>
				<graphics>false</graphics>
				<parameters>false</parameters>
				<perfs>false</perfs>
				<threads>false</threads>
			</debugLevel>
			<dependencies>
				<dependency>source</dependency>
				<dependency>ballROIManager</dependency>
			</dependencies>
			<featurePath>../../../Code/Vision/Resources/fast_freak.yml</featurePath>
			<name>ballByROI</name>
			<paramFloats/>
            <paramInts>
                <ParamInt>
                  <name>matchThreshold</name>
                  <value>2</value>
              </ParamInt>
                <ParamInt>
                  <name>keypointSensibility</name>
                  <value>70</value>
              </ParamInt>
            </paramInts>
			<paramPairInt/>
		</filter>
		<filter>
			<className>BallROIManager</className>
			<debugLevel>
				<graphics>false</graphics>
				<parameters>false</parameters>
				<perfs>false</perfs>
				<threads>false</threads>
			</debugLevel>
			<dependencies>
				<dependency>source</dependency>
				<dependency>ballROIDetector</dependency>
				<dependency>sparkleOfHope</dependency>
				<dependency>clipping</dependency>
			</dependencies>
			<name>ballROIManager</name>
			<paramFloats>
				<ParamFloat>
					<name>minRatio</name>
					<value>0.7</value>
				</ParamFloat>
				<ParamFloat>
					<name>maxRatio</name>
					<value>1.3</value>
				</ParamFloat>
				<ParamFloat>
					<name>sizeFactor</name>
					<value>1.2</value>
				</ParamFloat>
			</paramFloats>
			<paramInts>
				<paramInt>
					<name>tagLevel</name>
					<value>1</value>
				</paramInt>
				<paramInt>
					<name>whiteMinY</name>
					<value>150</value>
				</paramInt>
			</paramInts>
		</filter>
		<filter>
			<className>SparkleOfHope</className>
			<debugLevel>
				<graphics>false</graphics>
				<parameters>false</parameters>
				<perfs>false</perfs>
				<threads>false</threads>
			</debugLevel>
			<dependencies>
				<dependency>clippingSrc</dependency>
				<dependency>clipping</dependency>
				<dependency>sparkleOfHopeDetection</dependency>
			</dependencies>
			<name>sparkleOfHope</name>
			<paramFloats>
				<ParamFloat>
					<name>sizeFactor</name>
					<value>1.2</value>
				</ParamFloat>
				<ParamFloat>
					<name>minFillingPerc</name>
					<value>0.6</value>
				</ParamFloat>
				<ParamFloat>
					<name>maxFillingPerc</name>
					<value>1</value>
				</ParamFloat>
			</paramFloats>
			<paramInts>
				<paramInt>
					<name>tagLevel</name>
					<value>1</value>
				</paramInt>
				<paramInt>
					<name>whiteMinY</name>
					<value>150</value>
				</paramInt>
				<paramInt>
					<name>minPointDist</name>
					<value>5</value>
				</paramInt>
			</paramInts>
		</filter>
		<filter>
			<className>ClippingByBlob</className>
			<debugLevel>
				<graphics>false</graphics>
			</debugLevel>
			<dependencies>
				<dependency>clippingSrc</dependency>
				<dependency>whiteDetectionClosing</dependency>
				<dependency>fieldColorClosingTheOpening</dependency>
			</dependencies>
			<name>clippingByBlob</name>
			<paramFloats/>
			<paramInts/>
		</filter>
		<filter>
			<className>BallROIDetector</className>
			<debugLevel>
				<graphics>false</graphics>
				<parameters>false</parameters>
				<perfs>false</perfs>
				<threads>false</threads>
			</debugLevel>
			<dependencies>
				<dependency>clippingSrc</dependency>
				<dependency>clipping</dependency>
				<dependency>whiteBallDetection</dependency>
				<dependency>whiteBallDetection</dependency>
				<dependency>sparkleDetection</dependency>
			</dependencies>
			<name>ballROIDetector</name>
			<paramFloats>
				<ParamFloat>
					<name>blobToRoiFactor</name>
					<value>1.15</value>
				</ParamFloat>
				<ParamFloat>
					<name>blobToRoiFlat</name>
					<value>4</value>
				</ParamFloat>
				<ParamFloat>
					<name>openingSize</name>
					<value>0.028</value>
				</ParamFloat>
			</paramFloats>
			<paramInts/>
		</filter>
		<filter>
			<className>ColorConverter</className>
			<conversion>YUV2BGR</conversion>
			<debugLevel>
				<graphics>false</graphics>
			</debugLevel>
			<dependencies>
				<dependency>source</dependency>
			</dependencies>
			<name>RGB</name>
			<paramFloats/>
			<paramInts/>
		</filter>
		<filter>
			<className>ChannelSelector</className>
			<debugLevel>
				<graphics>false</graphics>
			</debugLevel>
			<dependencies>
				<dependency>source</dependency>
			</dependencies>
			<name>Y</name>
			<paramFloats/>
			<paramInts>
				<paramInt>
					<name>channel</name>
					<value>0</value>
				</paramInt>
			</paramInts>
		</filter>
		<filter>
			<className>ChannelSelector</className>
			<debugLevel>
				<graphics>false</graphics>
			</debugLevel>
			<dependencies>
				<dependency>source</dependency>
			</dependencies>
			<name>U</name>
			<paramFloats/>
			<paramInts>
				<paramInt>
					<name>channel</name>
					<value>1</value>
				</paramInt>
			</paramInts>
		</filter>
		<filter>
			<className>ChannelSelector</className>
			<debugLevel>
				<graphics>false</graphics>
			</debugLevel>
			<dependencies>
				<dependency>source</dependency>
			</dependencies>
			<name>V</name>
			<paramFloats/>
			<paramInts>
				<paramInt>
					<name>channel</name>
					<value>2</value>
				</paramInt>
			</paramInts>
		</filter>
		<filter>
			<className>ClippingRHT</className>
			<debugLevel>
				<graphics>false</graphics>
			</debugLevel>
			<dependencies>
				<dependency>clippingBorders</dependency>
			</dependencies>
			<name>clippingLines</name>
			<paramFloats>
				<ParamFloat>
					<name>minDist</name>
					<value>1.0</value>
				</ParamFloat>
				<ParamFloat>
					<name>rhoTol</name>
					<value>2.0</value>
				</ParamFloat>
				<ParamFloat>
					<name>thetaTol</name>
					<value>0.8</value>
				</ParamFloat>
			</paramFloats>
			<paramInts>
				<paramInt>
					<name>nbEpochs</name>
					<value>3</value>
				</paramInt>
				<paramInt>
					<name>iterationsByEpoch</name>
					<value>100</value>
				</paramInt>
				<paramInt>
					<name>minEdgeSize</name>
					<value>20</value>
				</paramInt>
				<paramInt>
					<name>minScore</name>
					<value>5</value>
				</paramInt>
				<paramInt>
					<name>eraseThickness</name>
					<value>5</value>
				</paramInt>
			</paramInts>
		</filter>
		<filter>
			<className>WhiteGoalByROI</className>
			<debugLevel>
				<graphics>false</graphics>
				<parameters>false</parameters>
				<perfs>false</perfs>
				<threads>false</threads>
			</debugLevel>
			<dependencies>
				<dependency>source</dependency>
				<dependency>goalMask2</dependency>
			</dependencies>
			<name>goalByROI</name>
			<paramFloats/>
			<paramInts>
				<paramInt>
					<name>goalMinY</name>
					<value>150</value>
				</paramInt>
				<paramInt>
					<name>goalMinV</name>
					<value>0</value>
				</paramInt>
				<paramInt>
					<name>kHeight</name>
					<value>31</value>
				</paramInt>
				<paramInt>
					<name>kWidth</name>
					<value>3</value>
				</paramInt>
			</paramInts>
			<paramPairInt/>
		</filter>
		<filter>
			<className>WhiteBallByROI</className>
			<debugLevel>
				<graphics>false</graphics>
				<parameters>false</parameters>
				<perfs>false</perfs>
				<threads>false</threads>
			</debugLevel>
			<dependencies>
				<dependency>source</dependency>
				<dependency>ballROIManager</dependency>
				<dependency>fieldColor</dependency>
			</dependencies>
			<name>ballByROI2</name>
			<paramFloats>
				<ParamFloat>
					<name>edgeToMinPointRatio</name>
					<value>0.1</value>
				</ParamFloat>
				<ParamFloat>
					<name>closureSize</name>
					<value>0.1</value>
				</ParamFloat>
				<ParamFloat>
					<name>openingSize</name>
					<value>0.1</value>
				</ParamFloat>
				<ParamFloat>
					<name>uselessBottomRatio</name>
					<value>0</value>
				</ParamFloat>
				<ParamFloat>
					<name>clusterPercentTol</name>
					<value>25</value>
				</ParamFloat>
				<ParamFloat>
					<name>clusterFlatTol</name>
					<value>1</value>
				</ParamFloat>
				<ParamFloat>
					<name>robotHeight</name>
					<value>50</value>
				</ParamFloat>
				<ParamFloat>
					<name>tilt</name>
					<value>20</value>
				</ParamFloat>
				<ParamFloat>
					<name>qTilt</name>
					<value>1</value>
				</ParamFloat>
				<ParamFloat>
					<name>reflectionMinRatio</name>
					<value>0.001</value>
				</ParamFloat>
				<ParamFloat>
					<name>lineRhoMargin</name>
					<value>5</value>
				</ParamFloat>
				<ParamFloat>
					<name>lineThetaMargin</name>
					<value>3</value>
				</ParamFloat>
			</paramFloats>
			<paramInts>
				<paramInt>
					<name>tagLevel</name>
					<value>1</value>
				</paramInt>
				<paramInt>
					<name>Epochs</name>
					<value>200</value>
				</paramInt>
				<paramInt>
					<name>ballMinY</name>
					<value>150</value>
				</paramInt>
				<paramInt>
					<name>minPointDist</name>
					<value>10</value>
				</paramInt>
				<paramInt>
					<name>minScore</name>
					<value>40</value>
				</paramInt>
				<paramInt>
					<name>reflectionMinY</name>
					<value>195</value>
				</paramInt>
				<paramInt>
					<name>activateCircleDetection</name>
					<value>1</value>
				</paramInt>
				<paramInt>
					<name>lineScore</name>
					<value>50</value>
				</paramInt>
				<paramInt>
					<name>lineMinLenght</name>
					<value>10</value>
				</paramInt>
				<paramInt>
					<name>lineMinDist</name>
					<value>10</value>
				</paramInt>
				<paramInt>
					<name>lineEraseThickness</name>
					<value>3</value>
				</paramInt>
				<paramInt>
					<name>lineNbIterations</name>
					<value>100</value>
				</paramInt>
			</paramInts>
			<paramPairInt/>
		</filter>
		<filter>
			<className>ClippingRules</className>
			<debugLevel>
				<graphics>false</graphics>
				<parameters>false</parameters>
				<perfs>false</perfs>
				<threads>false</threads>
			</debugLevel>
			<dependencies>
				<dependency>clippingByBlob</dependency>
			</dependencies>
			<name>clippingRules</name>
			<paramFloats/>
			<paramInts/>
			<paramPairInt/>
		</filter>
		<filter>
			<className>Erode</className>
			<debugLevel>
				<graphics>false</graphics>
				<parameters>false</parameters>
				<perfs>false</perfs>
				<threads>false</threads>
			</debugLevel>
			<dependencies>
				<dependency>clippingRules</dependency>
			</dependencies>
			<name>clippingEroded</name>
			<paramFloats/>
			<paramInts>
				<paramInt>
					<name>Shape</name>
					<value>0</value>
				</paramInt>
				<paramInt>
					<name>kernel height</name>
					<value>9</value>
				</paramInt>
				<paramInt>
					<name>kernel width</name>
					<value>9</value>
				</paramInt>
			</paramInts>
			<paramPairInt/>
		</filter>
		<filter>
			<className>ClosestBlob</className>
			<debugLevel>
				<graphics>false</graphics>
				<parameters>false</parameters>
				<perfs>false</perfs>
				<threads>false</threads>
			</debugLevel>
			<dependencies>
				<dependency>clippingRules</dependency>
				<dependency>clippingEroded</dependency>
			</dependencies>
			<name>clipping</name>
			<paramFloats/>
			<paramInts/>
			<paramPairInt/>
		</filter>
		<filter>
			<className>BinaryEdges</className>
			<debugLevel>
				<graphics>false</graphics>
				<parameters>false</parameters>
				<perfs>false</perfs>
				<threads>false</threads>
			</debugLevel>
			<dependencies>
				<dependency>clipping</dependency>
			</dependencies>
			<name>clippingBorders</name>
			<paramFloats/>
			<paramInts/>
			<paramPairInt/>
		</filter>
		<filter>
			<className>Rescale</className>
			<debugLevel>
				<graphics>false</graphics>
				<parameters>false</parameters>
				<perfs>false</perfs>
				<threads>false</threads>
			</debugLevel>
			<dependencies>
				<dependency>source</dependency>
			</dependencies>
			<name>clippingSrc</name>
			<paramFloats>
				<ParamFloat>
					<name>ratio</name>
					<value>4</value>
				</ParamFloat>
			</paramFloats>
			<paramInts/>
			<paramPairInt/>
		</filter>
		<filter>
			<className>Opening</className>
			<debugLevel>
				<graphics>false</graphics>
				<parameters>false</parameters>
				<perfs>false</perfs>
				<threads>false</threads>
			</debugLevel>
			<dependencies>
				<dependency>fieldColor</dependency>
			</dependencies>
			<name>fieldColorOpening</name>
			<paramFloats/>
			<paramInts>
				<paramInt>
					<name>Shape</name>
					<value>2</value>
				</paramInt>
				<paramInt>
					<name>kernel height</name>
					<value>5</value>
				</paramInt>
				<paramInt>
					<name>kernel width</name>
					<value>5</value>
				</paramInt>
			</paramInts>
			<paramPairInt/>
		</filter>
		<filter>
			<className>Closure</className>
			<debugLevel>
				<graphics>false</graphics>
				<parameters>false</parameters>
				<perfs>false</perfs>
				<threads>false</threads>
			</debugLevel>
			<dependencies>
				<dependency>fieldColorOpening</dependency>
			</dependencies>
			<name>fieldColorClosingTheOpening</name>
			<paramFloats/>
			<paramInts>
				<paramInt>
					<name>Shape</name>
					<value>2</value>
				</paramInt>
				<paramInt>
					<name>kernel height</name>
					<value>7</value>
				</paramInt>
				<paramInt>
					<name>kernel width</name>
					<value>7</value>
				</paramInt>
			</paramInts>
			<paramPairInt/>
		</filter>
		<filter>
			<className>ColorBounding</className>
			<debugLevel>
				<graphics>false</graphics>
			</debugLevel>
			<dependencies>
				<dependency>clippingSrc</dependency>
			</dependencies>
			<name>fieldColor</name>
			<paramFloats/>
			<paramInts>
				<paramInt>
					<name>minY</name>
					<value>0</value>
				</paramInt>
				<paramInt>
					<name>maxY</name>
					<value>255</value>
				</paramInt>
				<paramInt>
					<name>minU</name>
					<value>0</value>
				</paramInt>
				<paramInt>
					<name>maxU</name>
					<value>131</value>
				</paramInt>
				<paramInt>
					<name>minV</name>
					<value>70</value>
				</paramInt>
				<paramInt>
					<name>maxV</name>
					<value>255</value>
				</paramInt>
			</paramInts>
		</filter>
		<filter>
			<className>ColorBounding</className>
			<debugLevel>
				<graphics>false</graphics>
			</debugLevel>
			<dependencies>
				<dependency>clippingSrc</dependency>
			</dependencies>
			<name>whiteDetection</name>
			<paramFloats/>
			<paramInts>
				<paramInt>
					<name>minY</name>
					<value>150</value>
				</paramInt>
				<paramInt>
					<name>maxY</name>
					<value>255</value>
				</paramInt>
				<paramInt>
					<name>minU</name>
					<value>0</value>
				</paramInt>
				<paramInt>
					<name>maxU</name>
					<value>255</value>
				</paramInt>
				<paramInt>
					<name>minV</name>
					<value>0</value>
				</paramInt>
				<paramInt>
					<name>maxV</name>
					<value>255</value>
				</paramInt>
			</paramInts>
		</filter>
		<filter>
			<className>ColorBounding</className>
			<debugLevel>
				<graphics>false</graphics>
			</debugLevel>
			<dependencies>
				<dependency>clippingSrc</dependency>
			</dependencies>
			<name>whiteBallDetection</name>
			<paramFloats/>
			<paramInts>
				<paramInt>
					<name>minY</name>
					<value>150</value>
				</paramInt>
				<paramInt>
					<name>maxY</name>
					<value>255</value>
				</paramInt>
				<paramInt>
					<name>minU</name>
					<value>0</value>
				</paramInt>
				<paramInt>
					<name>maxU</name>
					<value>255</value>
				</paramInt>
				<paramInt>
					<name>minV</name>
					<value>0</value>
				</paramInt>
				<paramInt>
					<name>maxV</name>
					<value>255</value>
				</paramInt>
			</paramInts>
		</filter>
		<filter>
			<className>Closure</className>
			<debugLevel>
				<graphics>false</graphics>
				<parameters>false</parameters>
				<perfs>false</perfs>
				<threads>false</threads>
			</debugLevel>
			<dependencies>
				<dependency>whiteDetection</dependency>
			</dependencies>
			<name>whiteDetectionClosing</name>
			<paramFloats/>
			<paramInts>
				<paramInt>
					<name>Shape</name>
					<value>2</value>
				</paramInt>
				<paramInt>
					<name>kernel height</name>
					<value>3</value>
				</paramInt>
				<paramInt>
					<name>kernel width</name>
					<value>3</value>
				</paramInt>
			</paramInts>
			<paramPairInt/>
		</filter>
		<filter>
			<className>ColorBounding</className>
			<debugLevel>
				<graphics>false</graphics>
			</debugLevel>
			<dependencies>
				<dependency>clippingSrc</dependency>
			</dependencies>
			<name>sparkleDetection</name>
			<paramFloats/>
			<paramInts>
				<paramInt>
					<name>minY</name>
					<value>200</value>
				</paramInt>
				<paramInt>
					<name>maxY</name>
					<value>255</value>
				</paramInt>
				<paramInt>
					<name>minU</name>
					<value>0</value>
				</paramInt>
				<paramInt>
					<name>maxU</name>
					<value>255</value>
				</paramInt>
				<paramInt>
					<name>minV</name>
					<value>0</value>
				</paramInt>
				<paramInt>
					<name>maxV</name>
					<value>255</value>
				</paramInt>
			</paramInts>
		</filter>
		<filter>
			<className>ColorBounding</className>
			<debugLevel>
				<graphics>false</graphics>
			</debugLevel>
			<dependencies>
				<dependency>clippingSrc</dependency>
			</dependencies>
			<name>sparkleOfHopeDetection</name>
			<paramFloats/>
			<paramInts>
				<paramInt>
					<name>minY</name>
					<value>195</value>
				</paramInt>
				<paramInt>
					<name>maxY</name>
					<value>255</value>
				</paramInt>
				<paramInt>
					<name>minU</name>
					<value>0</value>
				</paramInt>
				<paramInt>
					<name>maxU</name>
					<value>255</value>
				</paramInt>
				<paramInt>
					<name>minV</name>
					<value>0</value>
				</paramInt>
				<paramInt>
					<name>maxV</name>
					<value>255</value>
				</paramInt>
			</paramInts>
		</filter>
		<filter>
			<className>Rescale</className>
			<debugLevel>
				<graphics>false</graphics>
				<parameters>false</parameters>
				<perfs>false</perfs>
				<threads>false</threads>
			</debugLevel>
			<dependencies>
				<dependency>source</dependency>
			</dependencies>
			<name>goalSrc</name>
			<paramFloats>
				<ParamFloat>
					<name>ratio</name>
					<value>4</value>
				</ParamFloat>
			</paramFloats>
			<paramInts/>
			<paramPairInt/>
		</filter>
		<filter>
			<className>Mask</className>
			<debugLevel>
				<graphics>false</graphics>
				<parameters>false</parameters>
				<perfs>false</perfs>
				<threads>false</threads>
			</debugLevel>
			<dependencies>
				<dependency>whiteDetection</dependency>
				<dependency>clippingBorders2</dependency>
			</dependencies>
			<name>goalMask</name>
			<paramFloats/>
			<paramInts/>
			<paramPairInt/>
		</filter>
		<filter>
			<className>Dilate</className>
			<debugLevel>
				<graphics>false</graphics>
				<parameters>false</parameters>
				<perfs>false</perfs>
				<threads>false</threads>
			</debugLevel>
			<dependencies>
				<dependency>goalMask</dependency>
			</dependencies>
			<name>goalMask2</name>
			<paramFloats/>
			<paramInts>
				<paramInt>
					<name>Shape</name>
					<value>1</value>
				</paramInt>
				<paramInt>
					<name>kernel height</name>
					<value>11</value>
				</paramInt>
				<paramInt>
					<name>kernel width</name>
					<value>5</value>
				</paramInt>
			</paramInts>
			<paramPairInt/>
		</filter>
		<filter>
			<className>Dilate</className>
			<debugLevel>
				<graphics>false</graphics>
				<parameters>false</parameters>
				<perfs>false</perfs>
				<threads>false</threads>
			</debugLevel>
			<dependencies>
				<dependency>clippingBorders</dependency>
			</dependencies>
			<name>clippingBorders2</name>
			<paramFloats/>
			<paramInts>
				<paramInt>
					<name>Shape</name>
					<value>2</value>
				</paramInt>
				<paramInt>
					<name>kernel height</name>
					<value>5</value>
				</paramInt>
				<paramInt>
					<name>kernel width</name>
					<value>5</value>
				</paramInt>
			</paramInts>
			<paramPairInt/>
		</filter>
		<filter>
			<captureFrequency>30</captureFrequency>
			<className>SourceV4l2</className>
			<debugLevel>
				<graphics>false</graphics>
			</debugLevel>
			<dependencies/>
			<device>/dev/video0</device>
			<name>source</name>
			<paramFloats/>
			<paramInts>
				<paramInt>
					<name>backlight_compensation</name>
					<value>0</value>
				</paramInt>
				<paramInt>
					<name>brightness</name>
					<value>100</value>
				</paramInt>
				<paramInt>
					<name>contrast</name>
					<value>192</value>
				</paramInt>
				<paramInt>
					<name>exposure_auto</name>
					<value>1</value>
				</paramInt>
				<paramInt>
					<name>exposure_(absolute)</name>
					<value>150</value>
				</paramInt>
				<paramInt>
					<name>exposure_auto_priority</name>
					<value>0</value>
				</paramInt>
				<paramInt>
					<name>focus_auto</name>
					<value>0</value>
				</paramInt>
				<paramInt>
					<name>focus_(absolute)</name>
					<value>0</value>
				</paramInt>
				<paramInt>
					<name>gain</name>
					<value>115</value>
				</paramInt>
				<paramInt>
					<name>power_line_frequency</name>
					<value>1</value>
				</paramInt>
				<paramInt>
					<name>saturation</name>
					<value>255</value>
				</paramInt>
				<paramInt>
					<name>sharpness</name>
					<value>130</value>
				</paramInt>
				<paramInt>
					<name>white_balance_temperature</name>
					<value>5000</value>
				</paramInt>
				<paramInt>
					<name>white_balance_temperature_auto</name>
					<value>0</value>
				</paramInt>
			</paramInts>
			<paramPairInt>
				<PairInt>
					<name>size</name>
					<value.first>800</value.first>
					<value.second>448</value.second>
				</PairInt>
			</paramPairInt>
		</filter>
	</pipeline>
	<playing>true</playing>
	<robotAngleExploration>3</robotAngleExploration>
	<robotPosExploration>15</robotPosExploration>
	<showRobotView>false</showRobotView>
	<showTaggedImg>false</showTaggedImg>
	<showTopView>false</showTopView>
</LocalisationTest>
