<?xml version="1.0" ?>
<LocalisationTest>
  <showTopView>false</showTopView>
  <showRobotView>false</showRobotView>
  <showTaggedImg>false</showTaggedImg>
  <benchmark>true</benchmark>
  <benchmarkDetail>1</benchmarkDetail>
  <nbParticlesFF>1000</nbParticlesFF>
  <nbParticlesBF>1000</nbParticlesBF>
  <imageDelay>30</imageDelay>
  <compassOffset>125</compassOffset>
  <ballExploration>10</ballExploration>
  <robotPosExploration>15</robotPosExploration>
  <robotAngleExploration>3</robotAngleExploration>
  <ballResampling>0.0</ballResampling>
  <fieldResampling>0.002</fieldResampling>
  <csp>
    <className>SchedulerRequester</className>
  </csp>
  <playing>true</playing>
  <embedded>true</embedded>
  <pipeline>
    <filter>
      <className>ClippingByBlob</className>
      <name>clippingByBlob</name>
      <debugLevel>
        <graphics>false</graphics>
      </debugLevel>
      <dependencies>
        <dependency>clippingSrc</dependency>
        <dependency>whiteDetectionClosing</dependency>
        <dependency>fieldColorClosingTheOpening</dependency>
      </dependencies>
    </filter>
    <filter>
      <className>BallROIDetector</className>
      <name>ballROIDetector</name>
      <debugLevel>
        <threads>false</threads>
        <graphics>false</graphics>
        <parameters>false</parameters>
        <perfs>false</perfs>
      </debugLevel>
      <dependencies>
        <dependency>clippingSrc</dependency>
	<dependency>clipping</dependency>
        <dependency>whiteDetection</dependency>
        <dependency>whiteDetection</dependency>
        <dependency>sparkleDetection</dependency>
      </dependencies>
      <paramInts>
      </paramInts>
      <paramFloats>
        <ParamFloat>
          <name>blobToRoiFactor</name>
          <value>1</value>
        </ParamFloat>
        <ParamFloat>
          <name>blobToRoiFlat</name>
          <value>5</value>
        </ParamFloat>
	<ParamFloat>
          <name>openingSize</name>
          <value>0.028</value>
          </ParamFloat>
      </paramFloats>
    </filter>
    <filter>
      <className>ColorConverter</className>
      <name>RGB</name>
      <debugLevel>
        <graphics>false</graphics>
      </debugLevel>
      <conversion>YUV2BGR</conversion>
      <dependencies>
        <dependency>source</dependency>
      </dependencies>
    </filter>
    <filter>
      <className>ChannelSelector</className>
      <name>Y</name>
      <debugLevel>
        <graphics>false</graphics>
      </debugLevel>
      <dependencies>
        <dependency>source</dependency>
      </dependencies>
      <paramInts>
        <ParamInt>
          <name>channel</name>
          <value>0</value>
        </ParamInt>
      </paramInts>
    </filter>
    <filter>
      <className>ChannelSelector</className>
      <name>U</name>
      <debugLevel>
        <graphics>false</graphics>
      </debugLevel>
      <dependencies>
        <dependency>source</dependency>
      </dependencies>
      <paramInts>
        <ParamInt>
          <name>channel</name>
          <value>1</value>
        </ParamInt>
      </paramInts>
    </filter>
    <filter>
      <className>ChannelSelector</className>
      <name>V</name>
      <debugLevel>
        <graphics>false</graphics>
      </debugLevel>
      <dependencies>
        <dependency>source</dependency>
      </dependencies>
      <paramInts>
        <ParamInt>
          <name>channel</name>
          <value>2</value>
        </ParamInt>
      </paramInts>
    </filter>
    <filter>
      <className>ClippingRHT</className>
      <name>clippingLines</name>
      <debugLevel>
        <graphics>false</graphics>
      </debugLevel>
      <dependencies>
        <dependency>clippingEdges</dependency>
      </dependencies>
      <paramInts>
        <ParamInt>
          <name>nbEpochs</name>
          <value>3</value>
        </ParamInt>
        <ParamInt>
          <name>iterationsByEpoch</name>
          <value>100</value>
        </ParamInt>
        <ParamInt>
          <name>minEdgeSize</name>
          <value>20</value>
        </ParamInt>
        <ParamInt>
          <name>minScore</name>
          <value>5</value>
        </ParamInt>
        <ParamInt>
          <name>eraseThickness</name>
          <value>5</value>
        </ParamInt>
      </paramInts>
      <paramFloats>
        <paramFloat>
          <name>minDist</name>
          <value>1.0</value>
        </paramFloat>
        <paramFloat>
          <name>rhoTol</name>
          <value>2.0</value>
        </paramFloat>
        <paramFloat>
          <name>thetaTol</name>
          <value>0.8</value>
        </paramFloat>
      </paramFloats>
    </filter>
    <filter>
      <className>WhiteGoalByROI</className>
      <name>goalByROI</name>
      <debugLevel>
        <threads>false</threads>
        <graphics>false</graphics>
        <parameters>false</parameters>
        <perfs>false</perfs>
      </debugLevel>
      <dependencies>
        <dependency>source</dependency>
        <dependency>goalMask2</dependency>
      </dependencies>
      <paramInts>
        <ParamInt>
          <name>goalMinY</name>
          <value>150</value>
        </ParamInt>
        <ParamInt>
          <name>goalMinV</name>
          <value>0</value>
        </ParamInt>
        <ParamInt>
          <name>kHeight</name>
          <value>31</value>
        </ParamInt>
        <ParamInt>
          <name>kWidth</name>
          <value>3</value>
        </ParamInt>
      </paramInts>
      <paramFloats />
      <paramPairInt />
    </filter>
    <filter>
      <className>WhiteBallByROI</className>
      <name>ballByROI</name>
      <debugLevel>
        <threads>false</threads>
        <graphics>false</graphics>
        <parameters>false</parameters>
        <perfs>false</perfs>
      </debugLevel>
      <dependencies>
        <dependency>source</dependency>
	<dependency>ballROIDetector</dependency>
        <dependency>fieldColor</dependency>
      </dependencies>
      <paramInts>
        <ParamInt>
          <name>tagLevel</name>
          <value>1</value>
        </ParamInt>
        <ParamInt>
          <name>Epochs</name>
          <value>200</value>
        </ParamInt>
        <ParamInt>
          <name>ballMinY</name>
          <value>150</value>
        </ParamInt>
        <ParamInt>
          <name>ballMinU</name>
          <value>255</value>
        </ParamInt>
        <ParamInt>
          <name>ballMinV</name>
          <value>205</value>
        </ParamInt>
        <ParamInt>
          <name>minPointDist</name>
          <value>3</value>
        </ParamInt>
        <ParamInt>
          <name>minScore</name>
          <value>50</value>
        </ParamInt>
        <ParamInt>
          <name>shadowMaxY</name>
          <value>255</value>
        </ParamInt>
        <ParamInt>
          <name>reflectionMinY</name>
          <value>195</value>
        </ParamInt>
	<ParamInt>
          <name>activateCircleDetection</name>
          <value>1</value>
        </ParamInt>
      </paramInts>
      <paramFloats>
        <ParamFloat>
          <name>edgeToMinPointRatio</name>
          <value>0.02</value>
        </ParamFloat>
        <ParamFloat>
          <name>closureSize</name>
          <value>0.1</value>
        </ParamFloat>
        <ParamFloat>
          <name>openingSize</name>
          <value>0.1</value>
        </ParamFloat>
        <ParamFloat>
          <name>uselessBottomRatio</name>
          <value>0</value>
        </ParamFloat>
        <ParamFloat>
          <name>clusterPercentTol</name>
          <value>25</value>
        </ParamFloat>
        <ParamFloat>
          <name>clusterFlatTol</name>
          <value>0</value>
        </ParamFloat>
        <ParamFloat>
          <name>robotHeight</name>
          <value>50</value>
        </ParamFloat>
        <ParamFloat>
          <name>tilt</name>
          <value>20</value>
        </ParamFloat>
        <ParamFloat>
          <name>qTilt</name>
          <value>1</value>
        </ParamFloat>
        <ParamFloat>
          <name>shadowMinRatio</name>
          <value>0.0</value>
        </ParamFloat>
        <ParamFloat>
          <name>reflectionMinRatio</name>
          <value>0.001</value>
        </ParamFloat>
      </paramFloats>
      <paramPairInt />
    </filter>
    <filter>
      <className>Mask</className>
      <name>ballMask</name>
      <debugLevel>
        <threads>false</threads>
        <graphics>false</graphics>
        <parameters>false</parameters>
        <perfs>false</perfs>
      </debugLevel>
      <dependencies>
        <dependency>ballColor2</dependency>
        <dependency>clippingLines</dependency>
      </dependencies>
      <paramInts />
      <paramFloats />
      <paramPairInt />
    </filter>
    <filter>
      <className>Dilate</className>
      <name>ballMask2</name>
      <debugLevel>
        <threads>false</threads>
        <graphics>false</graphics>
        <parameters>false</parameters>
        <perfs>false</perfs>
      </debugLevel>
      <dependencies>
        <dependency>ballMask</dependency>
      </dependencies>
      <paramInts>
        <ParamInt>
          <name>Shape</name>
          <value>2</value>
        </ParamInt>
        <ParamInt>
          <name>kernel height</name>
          <value>3</value>
        </ParamInt>
        <ParamInt>
          <name>kernel width</name>
          <value>3</value>
        </ParamInt>
      </paramInts>
      <paramFloats />
      <paramPairInt />
    </filter>
    <filter>
      <className>Closure</className>
      <name>ballColor2</name>
      <debugLevel>
        <threads>false</threads>
        <graphics>false</graphics>
        <parameters>false</parameters>
        <perfs>false</perfs>
      </debugLevel>
      <dependencies>
        <dependency>whiteDetection</dependency>
      </dependencies>
      <paramInts>
        <ParamInt>
          <name>Shape</name>
          <value>2</value>
        </ParamInt>
        <ParamInt>
          <name>kernel height</name>
          <value>5</value>
        </ParamInt>
        <ParamInt>
          <name>kernel width</name>
          <value>5</value>
        </ParamInt>
      </paramInts>
      <paramFloats />
      <paramPairInt />
    </filter>
    <filter>
      <className>Rescale</className>
      <name>ballSrc</name>
      <debugLevel>
        <threads>false</threads>
        <graphics>false</graphics>
        <parameters>false</parameters>
        <perfs>false</perfs>
      </debugLevel>
      <dependencies>
        <dependency>source</dependency>
      </dependencies>
      <paramFloats>
        <ParamFloat>
          <name>ratio</name>
          <value>4</value>
        </ParamFloat>
      </paramFloats>
      <paramPairInt />
    </filter>
    <filter>
      <className>ClippingRules</className>
      <name>clipping</name>
      <debugLevel>
        <threads>false</threads>
        <graphics>false</graphics>
        <parameters>false</parameters>
        <perfs>false</perfs>
      </debugLevel>
      <dependencies>
        <dependency>clippingByBlob</dependency>
      </dependencies>
      <paramInts />
      <paramFloats />
      <paramPairInt />
    </filter>
    <filter>
      <className>BinaryEdges</className>
      <name>clippingBorders</name>
      <debugLevel>
        <threads>false</threads>
        <graphics>false</graphics>
        <parameters>false</parameters>
        <perfs>false</perfs>
      </debugLevel>
      <dependencies>
        <dependency>clipping</dependency>
      </dependencies>
      <paramInts />
      <paramFloats />
      <paramPairInt />
    </filter>
    <filter>
      <className>Rescale</className>
      <name>clippingSrc</name>
      <debugLevel>
        <threads>false</threads>
        <graphics>false</graphics>
        <parameters>false</parameters>
        <perfs>false</perfs>
      </debugLevel>
      <dependencies>
        <dependency>source</dependency>
      </dependencies>
      <paramFloats>
        <ParamFloat>
          <name>ratio</name>
          <value>4</value>
        </ParamFloat>
      </paramFloats>
      <paramPairInt />
    </filter>
    <filter>
      <className>Opening</className>
      <name>fieldColorOpening</name>
      <debugLevel>
        <threads>false</threads>
        <graphics>false</graphics>
        <parameters>false</parameters>
        <perfs>false</perfs>
      </debugLevel>
      <dependencies>
        <dependency>fieldColor</dependency>
      </dependencies>
      <paramInts>
        <ParamInt>
          <name>Shape</name>
          <value>2</value>
        </ParamInt>
        <ParamInt>
          <name>kernel height</name>
          <value>5</value>
        </ParamInt>
        <ParamInt>
          <name>kernel width</name>
          <value>5</value>
        </ParamInt>
      </paramInts>
      <paramFloats />
      <paramPairInt />
    </filter>
    <filter>
      <className>Closure</className>
      <name>fieldColorClosingTheOpening</name>
      <debugLevel>
        <threads>false</threads>
        <graphics>false</graphics>
        <parameters>false</parameters>
        <perfs>false</perfs>
      </debugLevel>
      <dependencies>
        <dependency>fieldColorOpening</dependency>
      </dependencies>
      <paramInts>
        <ParamInt>
          <name>Shape</name>
          <value>2</value>
        </ParamInt>
        <ParamInt>
          <name>kernel height</name>
          <value>7</value>
        </ParamInt>
        <ParamInt>
          <name>kernel width</name>
          <value>7</value>
        </ParamInt>
      </paramInts>
      <paramFloats />
      <paramPairInt />
    </filter>
    <filter>
      <className>ColorBounding</className>
      <name>fieldColor</name>
      <debugLevel>
        <graphics>false</graphics>
      </debugLevel>
      <dependencies>
        <dependency>clippingSrc</dependency>
      </dependencies>
      <paramInts>
	<ParamInt>
          <name>minY</name>
          <value>0</value>
        </ParamInt>
        <ParamInt>
          <name>maxY</name>
          <value>255</value>
        </ParamInt>
	<ParamInt>
          <name>minU</name>
          <value>0</value>
        </ParamInt>
	<ParamInt>
          <name>maxU</name>
          <value>131</value>
        </ParamInt>
	<ParamInt>
          <name>minV</name>
          <value>70</value>
        </ParamInt>
	<ParamInt>
          <name>maxV</name>
          <value>255</value>
        </ParamInt>
      </paramInts>
    </filter>
    <filter>
      <className>ColorBounding</className>
      <name>whiteDetection</name>
      <debugLevel>
        <graphics>false</graphics>
      </debugLevel>
      <dependencies>
        <dependency>clippingSrc</dependency>
      </dependencies>
      <paramInts>
	<ParamInt>
          <name>minY</name>
          <value>150</value>
        </ParamInt>
        <ParamInt>
          <name>maxY</name>
          <value>255</value>
        </ParamInt>
	<ParamInt>
          <name>minU</name>
          <value>0</value>
        </ParamInt>
	<ParamInt>
          <name>maxU</name>
          <value>255</value>
        </ParamInt>
	<ParamInt>
          <name>minV</name>
          <value>0</value>
        </ParamInt>
	<ParamInt>
          <name>maxV</name>
          <value>255</value>
        </ParamInt>
      </paramInts>
    </filter>
    <filter>
      <className>Closure</className>
      <name>whiteDetectionClosing</name>
      <debugLevel>
        <threads>false</threads>
        <graphics>false</graphics>
        <parameters>false</parameters>
        <perfs>false</perfs>
      </debugLevel>
      <dependencies>
        <dependency>whiteDetection</dependency>
      </dependencies>
      <paramInts>
        <ParamInt>
          <name>Shape</name>
          <value>2</value>
        </ParamInt>
        <ParamInt>
          <name>kernel height</name>
          <value>3</value>
        </ParamInt>
        <ParamInt>
          <name>kernel width</name>
          <value>3</value>
        </ParamInt>
      </paramInts>
      <paramFloats />
      <paramPairInt />
    </filter>
    <filter>
      <className>ColorBounding</className>
      <name>sparkleDetection</name>
      <debugLevel>
        <graphics>false</graphics>
      </debugLevel>
      <dependencies>
        <dependency>clippingSrc</dependency>
      </dependencies>
      <paramInts>
	<ParamInt>
          <name>minY</name>
          <value>185</value>
        </ParamInt>
        <ParamInt>
          <name>maxY</name>
          <value>255</value>
        </ParamInt>
	<ParamInt>
          <name>minU</name>
          <value>0</value>
        </ParamInt>
	<ParamInt>
          <name>maxU</name>
          <value>255</value>
        </ParamInt>
	<ParamInt>
          <name>minV</name>
          <value>0</value>
        </ParamInt>
	<ParamInt>
          <name>maxV</name>
          <value>255</value>
        </ParamInt>
      </paramInts>
    </filter>
    <filter>
      <className>BinaryEdges</className>
      <name>clippingEdges</name>
      <debugLevel>
        <threads>false</threads>
        <graphics>false</graphics>
        <parameters>false</parameters>
        <perfs>false</perfs>
      </debugLevel>
      <dependencies>
        <dependency>clipping</dependency>
      </dependencies>
      <paramInts />
      <paramFloats />
      <paramPairInt />
    </filter>
    <filter>
      <className>Mult</className>
      <name>goalBorders</name>
      <debugLevel>
        <threads>false</threads>
        <graphics>false</graphics>
        <parameters>false</parameters>
        <perfs>false</perfs>
      </debugLevel>
      <dependencies>
        <dependency>goalBorders1</dependency>
      </dependencies>
      <paramInts />
      <paramFloats>
        <ParamFloat>
          <name>ratio</name>
          <value>5</value>
        </ParamFloat>
      </paramFloats>
      <paramPairInt />
    </filter>
    <filter>
      <className>AbsDiff</className>
      <name>goalBorders1</name>
      <debugLevel>
        <threads>false</threads>
        <graphics>false</graphics>
        <parameters>false</parameters>
        <perfs>false</perfs>
      </debugLevel>
      <dependencies>
        <dependency>hBlurGoal</dependency>
        <dependency>goalSrc</dependency>
      </dependencies>
      <paramInts />
      <paramFloats />
      <paramPairInt />
    </filter>
    <filter>
      <className>Norm</className>
      <name>goalBordersNormed</name>
      <debugLevel>
        <threads>false</threads>
        <graphics>false</graphics>
        <parameters>false</parameters>
        <perfs>false</perfs>
      </debugLevel>
      <dependencies>
        <dependency>goalBorders</dependency>
      </dependencies>
      <paramInts />
      <paramFloats />
      <paramPairInt />
    </filter>
    <filter>
      <className>Threshold</className>
      <name>goalBordersThreshold</name>
      <debugLevel>
        <threads>false</threads>
        <graphics>false</graphics>
        <parameters>false</parameters>
        <perfs>false</perfs>
      </debugLevel>
      <dependencies>
        <dependency>goalBordersNormed</dependency>
      </dependencies>
      <paramInts>
        <ParamInt>
          <name>threshold</name>
          <value>22</value>
        </ParamInt>
        <ParamInt>
          <name>thresholdType</name>
          <value>0</value>
        </ParamInt>
      </paramInts>
      <paramFloats />
      <paramPairInt />
    </filter>
    
    <filter>
      <className>Rescale</className>
      <name>goalSrc</name>
      <debugLevel>
        <threads>false</threads>
        <graphics>false</graphics>
        <parameters>false</parameters>
        <perfs>false</perfs>
      </debugLevel>
      <dependencies>
        <dependency>source</dependency>
      </dependencies>
      <paramFloats>
        <ParamFloat>
          <name>ratio</name>
          <value>4</value>
        </ParamFloat>
      </paramFloats>
      <paramPairInt />
    </filter>
    <filter>
      <className>Mask</className>
      <name>goalMask</name>
      <debugLevel>
        <threads>false</threads>
        <graphics>false</graphics>
        <parameters>false</parameters>
        <perfs>false</perfs>
      </debugLevel>
      <dependencies>
        <dependency>whiteDetection</dependency>
        <dependency>clippingBorders2</dependency>
      </dependencies>
      <paramInts />
      <paramFloats />
      <paramPairInt />
    </filter>
    <filter>
      <className>Dilate</className>
      <name>goalMask2</name>
      <debugLevel>
        <threads>false</threads>
        <graphics>false</graphics>
        <parameters>false</parameters>
        <perfs>false</perfs>
      </debugLevel>
      <dependencies>
        <dependency>goalMask</dependency>
      </dependencies>
      <paramInts>
        <ParamInt>
          <name>Shape</name>
          <value>1</value>
        </ParamInt>
        <ParamInt>
          <name>kernel height</name>
          <value>11</value>
        </ParamInt>
        <ParamInt>
          <name>kernel width</name>
          <value>5</value>
        </ParamInt>
      </paramInts>
      <paramFloats />
      <paramPairInt />
    </filter>
    <filter>
      <className>Dilate</className>
      <name>clippingBorders2</name>
      <debugLevel>
        <threads>false</threads>
        <graphics>false</graphics>
        <parameters>false</parameters>
        <perfs>false</perfs>
      </debugLevel>
      <dependencies>
        <dependency>clippingBorders</dependency>
      </dependencies>
      <paramInts>
        <ParamInt>
          <name>Shape</name>
          <value>2</value>
        </ParamInt>
        <ParamInt>
          <name>kernel height</name>
          <value>5</value>
        </ParamInt>
        <ParamInt>
          <name>kernel width</name>
          <value>5</value>
        </ParamInt>
      </paramInts>
      <paramFloats />
      <paramPairInt />
    </filter>
    <filter>
      <className>SourceV4l2</className>
      <name>source</name>
      <device>/dev/video0</device>
      <captureFrequency>30</captureFrequency>
      <debugLevel>
        <graphics>false</graphics>
      </debugLevel>
      <dependencies />
      <paramInts>
        <paramInt>
          <name>backlight_compensation</name>
          <value>0</value>
        </paramInt>
        <paramInt>
          <name>brightness</name>
          <value>100</value>
        </paramInt>
        <paramInt>
          <name>contrast</name>
          <value>192</value>
        </paramInt>
        <paramInt>
          <name>exposure_auto</name>
          <value>1</value>
        </paramInt>
        <paramInt>
          <name>exposure_(absolute)</name>
          <value>150</value>
        </paramInt>
        <paramInt>
          <name>exposure_auto_priority</name>
          <value>0</value>
        </paramInt>
        <paramInt>
          <name>focus_auto</name>
          <value>0</value>
        </paramInt>
        <paramInt>
          <name>focus_(absolute)</name>
          <value>0</value>
        </paramInt>
        <paramInt>
          <name>gain</name>
          <value>115</value>
        </paramInt>
        <paramInt>
          <name>power_line_frequency</name>
          <value>1</value>
        </paramInt>
        <paramInt>
          <name>saturation</name>
          <value>255</value>
        </paramInt>
        <paramInt>
          <name>sharpness</name>
          <value>130</value>
        </paramInt>
        <paramInt>
          <name>white_balance_temperature</name>
          <value>5000</value>
        </paramInt>
        <paramInt>
          <name>white_balance_temperature_auto</name>
          <value>0</value>
        </paramInt>
      </paramInts>
      <paramFloats />
      <paramPairInt>
        <PairInt>
          <name>size</name>
          <value.first>800</value.first>
          <value.second>448</value.second>
        </PairInt>
      </paramPairInt>
    </filter>
  </pipeline>
</LocalisationTest>
