<?xml version="1.0"?>
<GraphicalMotorPrimitive xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
  <entries />
  <name>LocateBall</name>
  <gain>1</gain>
  <gainMin>-1</gainMin>
  <gainMax>60</gainMax>
  <GraphicalBlock>
    <BallBlock>
      <entries />
      <name>BallBlock</name>
      <gain>1</gain>
      <gainMin>-1</gainMin>
      <gainMax>60</gainMax>
      <refresh_frequency>5</refresh_frequency>
      <clipping>true</clipping>
    </BallBlock>
    <Position>
      <X>-127</X>
      <Y>98.94</Y>
    </Position>
  </GraphicalBlock>
  <GraphicalBlock>
    <SnapshotBlock>
      <entries>
        <BlockPredecessor>
          <name>BlockDigitalLevel</name>
          <output_idx>0</output_idx>
          <condition />
          <fire />
        </BlockPredecessor>
        <BlockPredecessor>
          <name>BlockAddition</name>
          <output_idx>0</output_idx>
          <condition />
          <fire />
        </BlockPredecessor>
        <BlockPredecessor>
          <name>BlockAddition1</name>
          <output_idx>0</output_idx>
          <condition />
          <fire />
        </BlockPredecessor>
      </entries>
      <name>SnapshotBlock</name>
      <gain>1</gain>
      <gainMin>-1</gainMin>
      <gainMax>60</gainMax>
    </SnapshotBlock>
    <Position>
      <X>732</X>
      <Y>98.94</Y>
    </Position>
  </GraphicalBlock>
  <GraphicalBlock>
    <BlockPolynome>
      <entries>
        <BlockPredecessor>
          <name>BallBlock</name>
          <output_idx>0</output_idx>
          <condition />
          <fire />
        </BlockPredecessor>
      </entries>
      <name>BlockPolynome</name>
      <gain>1</gain>
      <gainMin>-1</gainMin>
      <gainMax>60</gainMax>
      <const_coefs>
        <float>-1</float>
      </const_coefs>
      <lin_coefs>
        <float>2.1</float>
      </lin_coefs>
      <square_coefs>
        <float>0</float>
      </square_coefs>
      <abs_coefs>
        <float>0</float>
      </abs_coefs>
    </BlockPolynome>
    <Position>
      <X>284.28166666666669</X>
      <Y>98.94</Y>
    </Position>
  </GraphicalBlock>
  <GraphicalBlockLink>
    <output_value>0</output_value>
    <Condition />
    <Fire />
    <SourceIndex>0</SourceIndex>
    <TargetIndex>0</TargetIndex>
    <SourceName>BallBlock</SourceName>
    <TargetName>BlockPolynome</TargetName>
  </GraphicalBlockLink>
  <GraphicalBlock>
    <BlockAddition>
      <entries>
        <BlockPredecessor>
          <name>BlockGain</name>
          <output_idx>0</output_idx>
          <condition />
          <fire />
        </BlockPredecessor>
        <BlockPredecessor>
          <name>BlockGain1</name>
          <output_idx>0</output_idx>
          <condition />
          <fire />
        </BlockPredecessor>
      </entries>
      <name>BlockAddition</name>
      <gain>1</gain>
      <gainMin>-1</gainMin>
      <gainMax>60</gainMax>
    </BlockAddition>
    <Position>
      <X>473.94666666666672</X>
      <Y>286</Y>
    </Position>
  </GraphicalBlock>
  <GraphicalBlock>
    <BlockAddition>
      <entries>
        <BlockPredecessor>
          <name>BlockGain</name>
          <output_idx>1</output_idx>
          <condition />
          <fire />
        </BlockPredecessor>
        <BlockPredecessor>
          <name>BlockGain1</name>
          <output_idx>1</output_idx>
          <condition />
          <fire />
        </BlockPredecessor>
      </entries>
      <name>BlockAddition1</name>
      <gain>1</gain>
      <gainMin>-1</gainMin>
      <gainMax>60</gainMax>
    </BlockAddition>
    <Position>
      <X>473.94666666666672</X>
      <Y>396.96000000000004</Y>
    </Position>
  </GraphicalBlock>
  <GraphicalBlock>
    <ChronoBlock>
      <entries>
        <BlockPredecessor>
          <name>BlockPolynome</name>
          <output_idx>0</output_idx>
          <condition />
          <fire />
        </BlockPredecessor>
      </entries>
      <name>ChronoBlock</name>
      <gain>1</gain>
      <gainMin>-1</gainMin>
      <gainMax>60</gainMax>
      <clock_speeds>
        <float>1</float>
        <float>1</float>
      </clock_speeds>
    </ChronoBlock>
    <Position>
      <X>395.92666666666673</X>
      <Y>98.94</Y>
    </Position>
  </GraphicalBlock>
  <GraphicalBlockLink>
    <output_value>-1</output_value>
    <Condition />
    <Fire />
    <SourceIndex>0</SourceIndex>
    <TargetIndex>0</TargetIndex>
    <SourceName>BlockPolynome</SourceName>
    <TargetName>ChronoBlock</TargetName>
  </GraphicalBlockLink>
  <GraphicalBlock>
    <BlockDigitalLevel>
      <entries>
        <BlockPredecessor>
          <name>ChronoBlock</name>
          <output_idx>0</output_idx>
          <condition />
          <fire />
        </BlockPredecessor>
      </entries>
      <name>BlockDigitalLevel</name>
      <gain>1</gain>
      <gainMin>-1</gainMin>
      <gainMax>60</gainMax>
      <min_value>
        <float>0</float>
      </min_value>
      <max_value>
        <float>0.5</float>
      </max_value>
      <output_low>0</output_low>
      <output_medium>0</output_medium>
      <output_high>1</output_high>
      <hysteresis>false</hysteresis>
    </BlockDigitalLevel>
    <Position>
      <X>513.15166666666664</X>
      <Y>98.94</Y>
    </Position>
  </GraphicalBlock>
  <GraphicalBlockLink>
    <output_value>0</output_value>
    <Condition />
    <Fire />
    <SourceIndex>0</SourceIndex>
    <TargetIndex>0</TargetIndex>
    <SourceName>ChronoBlock</SourceName>
    <TargetName>BlockDigitalLevel</TargetName>
  </GraphicalBlockLink>
  <GraphicalBlockLink>
    <output_value>0</output_value>
    <Condition />
    <Fire />
    <SourceIndex>0</SourceIndex>
    <TargetIndex>0</TargetIndex>
    <SourceName>BlockDigitalLevel</SourceName>
    <TargetName>SnapshotBlock</TargetName>
  </GraphicalBlockLink>
  <GraphicalBlock>
    <BlockGain>
      <entries>
        <BlockPredecessor>
          <name>BallBlock</name>
          <output_idx>1</output_idx>
          <condition />
          <fire />
        </BlockPredecessor>
        <BlockPredecessor>
          <name>BallBlock</name>
          <output_idx>2</output_idx>
          <condition />
          <fire />
        </BlockPredecessor>
      </entries>
      <name>BlockGain</name>
      <gain>1</gain>
      <gainMin>-1</gainMin>
      <gainMax>60</gainMax>
      <gains>
        <float>30</float>
        <float>22.5</float>
      </gains>
    </BlockGain>
    <Position>
      <X>284.28166666666669</X>
      <Y>299.88</Y>
    </Position>
  </GraphicalBlock>
  <GraphicalBlockLink>
    <output_value>0.33493033051490784</output_value>
    <Condition />
    <Fire />
    <SourceIndex>1</SourceIndex>
    <TargetIndex>0</TargetIndex>
    <SourceName>BallBlock</SourceName>
    <TargetName>BlockGain</TargetName>
  </GraphicalBlockLink>
  <GraphicalBlockLink>
    <output_value>-0.89153343439102173</output_value>
    <Condition />
    <Fire />
    <SourceIndex>2</SourceIndex>
    <TargetIndex>1</TargetIndex>
    <SourceName>BallBlock</SourceName>
    <TargetName>BlockGain</TargetName>
  </GraphicalBlockLink>
  <GraphicalBlockLink>
    <output_value>10.0479097366333</output_value>
    <Condition />
    <Fire />
    <SourceIndex>0</SourceIndex>
    <TargetIndex>0</TargetIndex>
    <SourceName>BlockGain</SourceName>
    <TargetName>BlockAddition</TargetName>
  </GraphicalBlockLink>
  <GraphicalBlock>
    <BlockGain>
      <entries>
        <BlockPredecessor>
          <name>Pan</name>
          <output_idx>0</output_idx>
          <condition />
          <fire />
        </BlockPredecessor>
        <BlockPredecessor>
          <name>Tilt</name>
          <output_idx>0</output_idx>
          <condition />
          <fire />
        </BlockPredecessor>
      </entries>
      <name>BlockGain1</name>
      <gain>1</gain>
      <gainMin>-1</gainMin>
      <gainMax>60</gainMax>
      <gains>
        <float>-1</float>
        <float>1</float>
      </gains>
    </BlockGain>
    <Position>
      <X>366.7399999999999</X>
      <Y>438.93313588933768</Y>
    </Position>
  </GraphicalBlock>
  <GraphicalBlockLink>
    <output_value>44.33203125</output_value>
    <Condition />
    <Fire />
    <SourceIndex>0</SourceIndex>
    <TargetIndex>1</TargetIndex>
    <SourceName>BlockGain1</SourceName>
    <TargetName>BlockAddition</TargetName>
  </GraphicalBlockLink>
  <GraphicalBlockLink>
    <output_value>0.9179689884185791</output_value>
    <Condition />
    <Fire />
    <SourceIndex>1</SourceIndex>
    <TargetIndex>1</TargetIndex>
    <SourceName>BlockGain1</SourceName>
    <TargetName>BlockAddition1</TargetName>
  </GraphicalBlockLink>
  <GraphicalBlockLink>
    <output_value>-20.059501647949219</output_value>
    <Condition />
    <Fire />
    <SourceIndex>1</SourceIndex>
    <TargetIndex>0</TargetIndex>
    <SourceName>BlockGain</SourceName>
    <TargetName>BlockAddition1</TargetName>
  </GraphicalBlockLink>
  <GraphicalBlockLink>
    <output_value>54.379940032958984</output_value>
    <Condition />
    <Fire />
    <SourceIndex>0</SourceIndex>
    <TargetIndex>1</TargetIndex>
    <SourceName>BlockAddition</SourceName>
    <TargetName>SnapshotBlock</TargetName>
  </GraphicalBlockLink>
  <GraphicalBlockLink>
    <output_value>-19.141532897949219</output_value>
    <Condition />
    <Fire />
    <SourceIndex>0</SourceIndex>
    <TargetIndex>2</TargetIndex>
    <SourceName>BlockAddition1</SourceName>
    <TargetName>SnapshotBlock</TargetName>
  </GraphicalBlockLink>
  <GraphicalBlock>
    <MoveOutput>
      <entries>
        <BlockPredecessor>
          <name>SnapshotBlock</name>
          <output_idx>0</output_idx>
          <condition />
          <fire />
        </BlockPredecessor>
        <BlockPredecessor>
          <name>SnapshotBlock</name>
          <output_idx>1</output_idx>
          <condition />
          <fire />
        </BlockPredecessor>
        <BlockPredecessor>
          <name>ChronoBlock1</name>
          <output_idx>0</output_idx>
          <condition />
          <fire />
        </BlockPredecessor>
        <BlockPredecessor>
          <name>BlockDigitalLevel</name>
          <output_idx>0</output_idx>
          <condition />
          <fire />
        </BlockPredecessor>
      </entries>
      <name>MoveOutput</name>
      <gain>1</gain>
      <gainMin>-1</gainMin>
      <gainMax>60</gainMax>
      <labels>
        <string>ball_pan</string>
        <string>ball_tilt</string>
        <string>ball_age</string>
        <string>ball_locked</string>
      </labels>
    </MoveOutput>
    <Position>
      <X>950</X>
      <Y>93.16</Y>
    </Position>
  </GraphicalBlock>
  <GraphicalBlockLink>
    <output_value>17.211278915405273</output_value>
    <Condition />
    <Fire />
    <SourceIndex>0</SourceIndex>
    <TargetIndex>0</TargetIndex>
    <SourceName>SnapshotBlock</SourceName>
    <TargetName>MoveOutput</TargetName>
  </GraphicalBlockLink>
  <GraphicalBlockLink>
    <output_value>-7.4016141891479492</output_value>
    <Condition />
    <Fire />
    <SourceIndex>1</SourceIndex>
    <TargetIndex>1</TargetIndex>
    <SourceName>SnapshotBlock</SourceName>
    <TargetName>MoveOutput</TargetName>
  </GraphicalBlockLink>
  <GraphicalBlock>
    <BlockPolynome>
      <entries>
        <BlockPredecessor>
          <name>BlockDigitalLevel</name>
          <output_idx>0</output_idx>
          <condition />
          <fire />
        </BlockPredecessor>
      </entries>
      <name>BlockPolynome1</name>
      <gain>1</gain>
      <gainMin>-1</gainMin>
      <gainMax>60</gainMax>
      <const_coefs>
        <float>1</float>
      </const_coefs>
      <lin_coefs>
        <float>-2.1</float>
      </lin_coefs>
      <square_coefs>
        <float>0</float>
      </square_coefs>
      <abs_coefs>
        <float>0</float>
      </abs_coefs>
    </BlockPolynome>
    <Position>
      <X>618.13833333333332</X>
      <Y>420.45788850277881</Y>
    </Position>
  </GraphicalBlock>
  <GraphicalBlock>
    <ChronoBlock>
      <entries>
        <BlockPredecessor>
          <name>BlockPolynome1</name>
          <output_idx>0</output_idx>
          <condition />
          <fire />
        </BlockPredecessor>
      </entries>
      <name>ChronoBlock1</name>
      <gain>1</gain>
      <gainMin>-1</gainMin>
      <gainMax>60</gainMax>
      <clock_speeds>
        <float>1</float>
      </clock_speeds>
    </ChronoBlock>
    <Position>
      <X>704.9083333333333</X>
      <Y>299.88</Y>
    </Position>
  </GraphicalBlock>
  <GraphicalBlockLink>
    <output_value>1</output_value>
    <Condition />
    <Fire />
    <SourceIndex>0</SourceIndex>
    <TargetIndex>0</TargetIndex>
    <SourceName>BlockPolynome1</SourceName>
    <TargetName>ChronoBlock1</TargetName>
  </GraphicalBlockLink>
  <GraphicalBlockLink>
    <output_value>0.020455000922083855</output_value>
    <Condition />
    <Fire />
    <SourceIndex>0</SourceIndex>
    <TargetIndex>2</TargetIndex>
    <SourceName>ChronoBlock1</SourceName>
    <TargetName>MoveOutput</TargetName>
  </GraphicalBlockLink>
  <GraphicalBlock>
    <BlockServo>
      <entries />
      <name>Pan</name>
      <gain>1</gain>
      <gainMin>-1</gainMin>
      <gainMax>60</gainMax>
      <UseWrongMX28Conversion>false</UseWrongMX28Conversion>
      <servo_name>Pan</servo_name>
      <unit>1</unit>
      <relative>1</relative>
    </BlockServo>
    <Position>
      <X>284.28166666666669</X>
      <Y>420.45788850277881</Y>
    </Position>
  </GraphicalBlock>
  <GraphicalBlockLink>
    <output_value>-44.33203125</output_value>
    <Condition />
    <Fire />
    <SourceIndex>0</SourceIndex>
    <TargetIndex>0</TargetIndex>
    <SourceName>Pan</SourceName>
    <TargetName>BlockGain1</TargetName>
  </GraphicalBlockLink>
  <GraphicalBlock>
    <BlockServo>
      <entries />
      <name>Tilt</name>
      <gain>1</gain>
      <gainMin>-1</gainMin>
      <gainMax>60</gainMax>
      <UseWrongMX28Conversion>false</UseWrongMX28Conversion>
      <servo_name>Tilt</servo_name>
      <unit>1</unit>
      <relative>1</relative>
    </BlockServo>
    <Position>
      <X>284.28166666666669</X>
      <Y>467.41676655179327</Y>
    </Position>
  </GraphicalBlock>
  <GraphicalBlockLink>
    <output_value>0.9179689884185791</output_value>
    <Condition />
    <Fire />
    <SourceIndex>0</SourceIndex>
    <TargetIndex>1</TargetIndex>
    <SourceName>Tilt</SourceName>
    <TargetName>BlockGain1</TargetName>
  </GraphicalBlockLink>
  <GraphicalBlock>
    <CommentsBlock>
      <entries />
      <name>CommentsBlock</name>
      <gain>1</gain>
      <gainMin>-1</gainMin>
      <gainMax>60</gainMax>
      <Commentaires>This moves records the last positions of ball and goal relatively to robot direction (independently of head pan and tilt).

Outputs are object coordinates and last detection age</Commentaires>
    </CommentsBlock>
    <Position>
      <X>-176</X>
      <Y>11.079999999999998</Y>
    </Position>
  </GraphicalBlock>
  <GraphicalBlock>
    <CommentsBlock>
      <entries />
      <name>CommentsBlock1</name>
      <gain>1</gain>
      <gainMin>-1</gainMin>
      <gainMax>60</gainMax>
      <Commentaires>If the ball is detected for at least half a second or if the goal is detected for at least a tenth of second then the pan and tilt are updated</Commentaires>
    </CommentsBlock>
    <Position>
      <X>284.28166666666669</X>
      <Y>43</Y>
    </Position>
  </GraphicalBlock>
  <GraphicalBlock>
    <CommentsBlock>
      <entries />
      <name>CommentsBlock2</name>
      <gain>1</gain>
      <gainMin>-1</gainMin>
      <gainMax>60</gainMax>
      <Commentaires>Chronos measure time without seeing the objects</Commentaires>
    </CommentsBlock>
    <Position>
      <X>307.21592450698978</X>
      <Y>651.28105923799717</Y>
    </Position>
  </GraphicalBlock>
  <GraphicalBlock>
    <CommentsBlock>
      <entries />
      <name>CommentsBlock3</name>
      <gain>1</gain>
      <gainMin>-1</gainMin>
      <gainMax>60</gainMax>
      <Commentaires>Computation of the object pan and tilt relative to the robots (in degrees) from:
1. the apparent pan and tilt on the image (in [-1,1]*[-1,1])
2. the pan and scan of the camera</Commentaires>
    </CommentsBlock>
    <Position>
      <X>204.97333333333324</X>
      <Y>189.84</Y>
    </Position>
  </GraphicalBlock>
  <GraphicalBlockLink>
    <output_value>0</output_value>
    <Condition />
    <Fire />
    <SourceIndex>0</SourceIndex>
    <TargetIndex>3</TargetIndex>
    <SourceName>BlockDigitalLevel</SourceName>
    <TargetName>MoveOutput</TargetName>
  </GraphicalBlockLink>
  <GraphicalBlock>
    <CommentsBlock>
      <entries />
      <name>CommentsBlock4</name>
      <gain>1</gain>
      <gainMin>-1</gainMin>
      <gainMax>60</gainMax>
      <Commentaires>At least two bars must be seen in order to consider that the goal has been seen</Commentaires>
    </CommentsBlock>
    <Position>
      <X>-148</X>
      <Y>497.61590941030727</Y>
    </Position>
  </GraphicalBlock>
  <GraphicalBlockLink>
    <output_value>0</output_value>
    <Condition />
    <Fire />
    <SourceIndex>0</SourceIndex>
    <TargetIndex>0</TargetIndex>
    <SourceName>BlockDigitalLevel</SourceName>
    <TargetName>BlockPolynome1</TargetName>
  </GraphicalBlockLink>
  <hsize>500</hsize>
  <vsize>500</vsize>
  <SchemaComments />
  <Frequency>100</Frequency>
  <SmoothStart>1000</SmoothStart>
  <SmoothStop>1000</SmoothStop>
  <Duration>0</Duration>
</GraphicalMotorPrimitive>