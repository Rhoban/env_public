<?xml version="1.0"?>
<GraphicalMotorPrimitive xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
  <entries />
  <name>LocateBall</name>
  <gain>1</gain>
  <gainMin>-1</gainMin>
  <gainMax>60</gainMax>
  <GraphicalBlock>
    <BallBlock>
      <entries />
      <name>BallBlock</name>
      <gain>1</gain>
      <gainMin>-1</gainMin>
      <gainMax>60</gainMax>
      <refresh_frequency>5</refresh_frequency>
      <clipping>true</clipping>
    </BallBlock>
    <Position>
      <X>-125.39500000000001</X>
      <Y>98.94</Y>
    </Position>
  </GraphicalBlock>
  <GraphicalBlock>
    <SnapshotBlock>
      <entries>
        <BlockPredecessor>
          <name>BlockDigitalLevel</name>
          <output_idx>0</output_idx>
          <condition />
          <fire />
        </BlockPredecessor>
        <BlockPredecessor>
          <name>BlockAddition</name>
          <output_idx>0</output_idx>
          <condition />
          <fire />
        </BlockPredecessor>
        <BlockPredecessor>
          <name>BlockAddition1</name>
          <output_idx>0</output_idx>
          <condition />
          <fire />
        </BlockPredecessor>
        <BlockPredecessor>
          <name>BallBlock</name>
          <output_idx>1</output_idx>
          <condition />
          <fire />
        </BlockPredecessor>
        <BlockPredecessor>
          <name>BallBlock</name>
          <output_idx>2</output_idx>
          <condition />
          <fire />
        </BlockPredecessor>
      </entries>
      <name>SnapshotBlock</name>
      <gain>1</gain>
      <gainMin>-1</gainMin>
      <gainMax>60</gainMax>
    </SnapshotBlock>
    <Position>
      <X>732</X>
      <Y>98.94</Y>
    </Position>
  </GraphicalBlock>
  <GraphicalBlock>
    <BlockPolynome>
      <entries>
        <BlockPredecessor>
          <name>BallBlock</name>
          <output_idx>0</output_idx>
          <condition />
          <fire />
        </BlockPredecessor>
      </entries>
      <name>BlockPolynome</name>
      <gain>1</gain>
      <gainMin>-1</gainMin>
      <gainMax>60</gainMax>
      <const_coefs>
        <float>-1</float>
      </const_coefs>
      <lin_coefs>
        <float>2.1</float>
      </lin_coefs>
      <square_coefs>
        <float>0</float>
      </square_coefs>
      <abs_coefs>
        <float>0</float>
      </abs_coefs>
    </BlockPolynome>
    <Position>
      <X>284.28166666666669</X>
      <Y>98.94</Y>
    </Position>
  </GraphicalBlock>
  <GraphicalBlockLink>
    <Condition />
    <Fire />
    <SourceIndex>0</SourceIndex>
    <TargetIndex>0</TargetIndex>
    <SourceName>BallBlock</SourceName>
    <TargetName>BlockPolynome</TargetName>
  </GraphicalBlockLink>
  <GraphicalBlock>
    <BlockAddition>
      <entries>
        <BlockPredecessor>
          <name>BlockDynamicGain</name>
          <output_idx>0</output_idx>
          <condition />
          <fire />
        </BlockPredecessor>
        <BlockPredecessor>
          <name>BlockGain1</name>
          <output_idx>0</output_idx>
          <condition />
          <fire />
        </BlockPredecessor>
      </entries>
      <name>BlockAddition</name>
      <gain>1</gain>
      <gainMin>-1</gainMin>
      <gainMax>60</gainMax>
    </BlockAddition>
    <Position>
      <X>473.94666666666672</X>
      <Y>286</Y>
    </Position>
  </GraphicalBlock>
  <GraphicalBlock>
    <BlockAddition>
      <entries>
        <BlockPredecessor>
          <name>BlockDynamicGain1</name>
          <output_idx>0</output_idx>
          <condition />
          <fire />
        </BlockPredecessor>
        <BlockPredecessor>
          <name>BlockGain1</name>
          <output_idx>1</output_idx>
          <condition />
          <fire />
        </BlockPredecessor>
      </entries>
      <name>BlockAddition1</name>
      <gain>1</gain>
      <gainMin>-1</gainMin>
      <gainMax>60</gainMax>
    </BlockAddition>
    <Position>
      <X>473.94666666666672</X>
      <Y>432.37788850277883</Y>
    </Position>
  </GraphicalBlock>
  <GraphicalBlock>
    <ChronoBlock>
      <entries>
        <BlockPredecessor>
          <name>BlockPolynome</name>
          <output_idx>0</output_idx>
          <condition />
          <fire />
        </BlockPredecessor>
      </entries>
      <name>ChronoBlock</name>
      <gain>1</gain>
      <gainMin>-1</gainMin>
      <gainMax>60</gainMax>
      <clock_speeds>
        <float>1</float>
        <float>1</float>
      </clock_speeds>
    </ChronoBlock>
    <Position>
      <X>395.92666666666673</X>
      <Y>98.94</Y>
    </Position>
  </GraphicalBlock>
  <GraphicalBlockLink>
    <Condition />
    <Fire />
    <SourceIndex>0</SourceIndex>
    <TargetIndex>0</TargetIndex>
    <SourceName>BlockPolynome</SourceName>
    <TargetName>ChronoBlock</TargetName>
  </GraphicalBlockLink>
  <GraphicalBlock>
    <BlockDigitalLevel>
      <entries>
        <BlockPredecessor>
          <name>ChronoBlock</name>
          <output_idx>0</output_idx>
          <condition />
          <fire />
        </BlockPredecessor>
      </entries>
      <name>BlockDigitalLevel</name>
      <gain>1</gain>
      <gainMin>-1</gainMin>
      <gainMax>60</gainMax>
      <min_value>
        <float>0</float>
      </min_value>
      <max_value>
        <float>0.5</float>
      </max_value>
      <output_low>0</output_low>
      <output_medium>0</output_medium>
      <output_high>1</output_high>
      <hysteresis>false</hysteresis>
    </BlockDigitalLevel>
    <Position>
      <X>513.15166666666664</X>
      <Y>98.94</Y>
    </Position>
  </GraphicalBlock>
  <GraphicalBlockLink>
    <Condition />
    <Fire />
    <SourceIndex>0</SourceIndex>
    <TargetIndex>0</TargetIndex>
    <SourceName>ChronoBlock</SourceName>
    <TargetName>BlockDigitalLevel</TargetName>
  </GraphicalBlockLink>
  <GraphicalBlockLink>
    <Condition />
    <Fire />
    <SourceIndex>0</SourceIndex>
    <TargetIndex>0</TargetIndex>
    <SourceName>BlockDigitalLevel</SourceName>
    <TargetName>SnapshotBlock</TargetName>
  </GraphicalBlockLink>
  <GraphicalBlock>
    <BlockGain>
      <entries>
        <BlockPredecessor>
          <name>Pan</name>
          <output_idx>0</output_idx>
          <condition />
          <fire />
        </BlockPredecessor>
        <BlockPredecessor>
          <name>Tilt</name>
          <output_idx>0</output_idx>
          <condition />
          <fire />
        </BlockPredecessor>
      </entries>
      <name>BlockGain1</name>
      <gain>1</gain>
      <gainMin>-1</gainMin>
      <gainMax>60</gainMax>
      <gains>
        <float>-1</float>
        <float>1</float>
      </gains>
    </BlockGain>
    <Position>
      <X>284.28166666666669</X>
      <Y>420.45788850277881</Y>
    </Position>
  </GraphicalBlock>
  <GraphicalBlockLink>
    <Condition />
    <Fire />
    <SourceIndex>0</SourceIndex>
    <TargetIndex>1</TargetIndex>
    <SourceName>BlockGain1</SourceName>
    <TargetName>BlockAddition</TargetName>
  </GraphicalBlockLink>
  <GraphicalBlockLink>
    <Condition />
    <Fire />
    <SourceIndex>1</SourceIndex>
    <TargetIndex>1</TargetIndex>
    <SourceName>BlockGain1</SourceName>
    <TargetName>BlockAddition1</TargetName>
  </GraphicalBlockLink>
  <GraphicalBlockLink>
    <Condition />
    <Fire />
    <SourceIndex>0</SourceIndex>
    <TargetIndex>1</TargetIndex>
    <SourceName>BlockAddition</SourceName>
    <TargetName>SnapshotBlock</TargetName>
  </GraphicalBlockLink>
  <GraphicalBlockLink>
    <Condition />
    <Fire />
    <SourceIndex>0</SourceIndex>
    <TargetIndex>2</TargetIndex>
    <SourceName>BlockAddition1</SourceName>
    <TargetName>SnapshotBlock</TargetName>
  </GraphicalBlockLink>
  <GraphicalBlock>
    <MoveOutput>
      <entries>
        <BlockPredecessor>
          <name>SnapshotBlock</name>
          <output_idx>0</output_idx>
          <condition />
          <fire />
        </BlockPredecessor>
        <BlockPredecessor>
          <name>SnapshotBlock</name>
          <output_idx>1</output_idx>
          <condition />
          <fire />
        </BlockPredecessor>
        <BlockPredecessor>
          <name>ChronoBlock1</name>
          <output_idx>0</output_idx>
          <condition />
          <fire />
        </BlockPredecessor>
        <BlockPredecessor>
          <name>BlockDigitalLevel</name>
          <output_idx>0</output_idx>
          <condition />
          <fire />
        </BlockPredecessor>
        <BlockPredecessor>
          <name>SnapshotBlock</name>
          <output_idx>2</output_idx>
          <condition />
          <fire />
        </BlockPredecessor>
        <BlockPredecessor>
          <name>SnapshotBlock</name>
          <output_idx>3</output_idx>
          <condition />
          <fire />
        </BlockPredecessor>
        <BlockPredecessor>
          <name>Pan</name>
          <output_idx>0</output_idx>
          <condition />
          <fire />
        </BlockPredecessor>
        <BlockPredecessor>
          <name>Tilt</name>
          <output_idx>0</output_idx>
          <condition />
          <fire />
        </BlockPredecessor>
      </entries>
      <name>MoveOutput</name>
      <gain>1</gain>
      <gainMin>-1</gainMin>
      <gainMax>60</gainMax>
      <labels>
        <string>ball_pan</string>
        <string>ball_tilt</string>
        <string>ball_age</string>
        <string>ball_locked</string>
        <string>ball_x</string>
        <string>ball_y</string>
        <string>head_pan</string>
        <string>head_tilt</string>
      </labels>
    </MoveOutput>
    <Position>
      <X>950</X>
      <Y>98.94</Y>
    </Position>
  </GraphicalBlock>
  <GraphicalBlockLink>
    <Condition />
    <Fire />
    <SourceIndex>0</SourceIndex>
    <TargetIndex>0</TargetIndex>
    <SourceName>SnapshotBlock</SourceName>
    <TargetName>MoveOutput</TargetName>
  </GraphicalBlockLink>
  <GraphicalBlockLink>
    <Condition />
    <Fire />
    <SourceIndex>1</SourceIndex>
    <TargetIndex>1</TargetIndex>
    <SourceName>SnapshotBlock</SourceName>
    <TargetName>MoveOutput</TargetName>
  </GraphicalBlockLink>
  <GraphicalBlock>
    <BlockPolynome>
      <entries>
        <BlockPredecessor>
          <name>BlockDigitalLevel</name>
          <output_idx>0</output_idx>
          <condition />
          <fire />
        </BlockPredecessor>
      </entries>
      <name>BlockPolynome1</name>
      <gain>1</gain>
      <gainMin>-1</gainMin>
      <gainMax>60</gainMax>
      <const_coefs>
        <float>1</float>
      </const_coefs>
      <lin_coefs>
        <float>-2.1</float>
      </lin_coefs>
      <square_coefs>
        <float>0</float>
      </square_coefs>
      <abs_coefs>
        <float>0</float>
      </abs_coefs>
    </BlockPolynome>
    <Position>
      <X>618.13833333333332</X>
      <Y>420.45788850277881</Y>
    </Position>
  </GraphicalBlock>
  <GraphicalBlock>
    <ChronoBlock>
      <entries>
        <BlockPredecessor>
          <name>BlockPolynome1</name>
          <output_idx>0</output_idx>
          <condition />
          <fire />
        </BlockPredecessor>
      </entries>
      <name>ChronoBlock1</name>
      <gain>1</gain>
      <gainMin>-1</gainMin>
      <gainMax>60</gainMax>
      <clock_speeds>
        <float>1</float>
      </clock_speeds>
    </ChronoBlock>
    <Position>
      <X>768.9083333333333</X>
      <Y>211.76</Y>
    </Position>
  </GraphicalBlock>
  <GraphicalBlockLink>
    <Condition />
    <Fire />
    <SourceIndex>0</SourceIndex>
    <TargetIndex>0</TargetIndex>
    <SourceName>BlockPolynome1</SourceName>
    <TargetName>ChronoBlock1</TargetName>
  </GraphicalBlockLink>
  <GraphicalBlockLink>
    <Condition />
    <Fire />
    <SourceIndex>0</SourceIndex>
    <TargetIndex>2</TargetIndex>
    <SourceName>ChronoBlock1</SourceName>
    <TargetName>MoveOutput</TargetName>
  </GraphicalBlockLink>
  <GraphicalBlock>
    <BlockServo>
      <entries />
      <name>Pan</name>
      <gain>1</gain>
      <gainMin>-1</gainMin>
      <gainMax>60</gainMax>
      <UseWrongMX28Conversion>false</UseWrongMX28Conversion>
      <servo_name>Pan</servo_name>
      <unit>1</unit>
      <relative>1</relative>
    </BlockServo>
    <Position>
      <X>156.69833333333327</X>
      <Y>420.45788850277881</Y>
    </Position>
  </GraphicalBlock>
  <GraphicalBlockLink>
    <Condition />
    <Fire />
    <SourceIndex>0</SourceIndex>
    <TargetIndex>0</TargetIndex>
    <SourceName>Pan</SourceName>
    <TargetName>BlockGain1</TargetName>
  </GraphicalBlockLink>
  <GraphicalBlock>
    <BlockServo>
      <entries />
      <name>Tilt</name>
      <gain>1</gain>
      <gainMin>-1</gainMin>
      <gainMax>60</gainMax>
      <UseWrongMX28Conversion>false</UseWrongMX28Conversion>
      <servo_name>Tilt</servo_name>
      <unit>1</unit>
      <relative>1</relative>
    </BlockServo>
    <Position>
      <X>158.42333333333326</X>
      <Y>492.29788850277885</Y>
    </Position>
  </GraphicalBlock>
  <GraphicalBlockLink>
    <Condition />
    <Fire />
    <SourceIndex>0</SourceIndex>
    <TargetIndex>1</TargetIndex>
    <SourceName>Tilt</SourceName>
    <TargetName>BlockGain1</TargetName>
  </GraphicalBlockLink>
  <GraphicalBlock>
    <CommentsBlock>
      <entries />
      <name>CommentsBlock</name>
      <gain>1</gain>
      <gainMin>-1</gainMin>
      <gainMax>60</gainMax>
      <Commentaires>This moves records the last positions of ball and goal relatively to robot direction (independently of head pan and tilt).

Outputs are object coordinates and last detection age</Commentaires>
    </CommentsBlock>
    <Position>
      <X>-176</X>
      <Y>11.079999999999998</Y>
    </Position>
  </GraphicalBlock>
  <GraphicalBlock>
    <CommentsBlock>
      <entries />
      <name>CommentsBlock1</name>
      <gain>1</gain>
      <gainMin>-1</gainMin>
      <gainMax>60</gainMax>
      <Commentaires>If the ball is detected for at least half a second or if the goal is detected for at least a tenth of second then the pan and tilt are updated</Commentaires>
    </CommentsBlock>
    <Position>
      <X>284.28166666666669</X>
      <Y>43</Y>
    </Position>
  </GraphicalBlock>
  <GraphicalBlock>
    <CommentsBlock>
      <entries />
      <name>CommentsBlock2</name>
      <gain>1</gain>
      <gainMin>-1</gainMin>
      <gainMax>60</gainMax>
      <Commentaires>Chronos measure time without seeing the objects</Commentaires>
    </CommentsBlock>
    <Position>
      <X>307.21592450698978</X>
      <Y>651.28105923799717</Y>
    </Position>
  </GraphicalBlock>
  <GraphicalBlock>
    <CommentsBlock>
      <entries />
      <name>CommentsBlock3</name>
      <gain>1</gain>
      <gainMin>-1</gainMin>
      <gainMax>60</gainMax>
      <Commentaires>Computation of the object pan and tilt relative to the robots (in degrees) from:
1. the apparent pan and tilt on the image (in [-1,1]*[-1,1])
2. the pan and scan of the camera</Commentaires>
    </CommentsBlock>
    <Position>
      <X>204.97333333333324</X>
      <Y>189.84</Y>
    </Position>
  </GraphicalBlock>
  <GraphicalBlockLink>
    <Condition />
    <Fire />
    <SourceIndex>0</SourceIndex>
    <TargetIndex>0</TargetIndex>
    <SourceName>BlockDigitalLevel</SourceName>
    <TargetName>BlockPolynome1</TargetName>
  </GraphicalBlockLink>
  <GraphicalBlockLink>
    <Condition />
    <Fire />
    <SourceIndex>2</SourceIndex>
    <TargetIndex>4</TargetIndex>
    <SourceName>SnapshotBlock</SourceName>
    <TargetName>MoveOutput</TargetName>
  </GraphicalBlockLink>
  <GraphicalBlockLink>
    <Condition />
    <Fire />
    <SourceIndex>3</SourceIndex>
    <TargetIndex>5</TargetIndex>
    <SourceName>SnapshotBlock</SourceName>
    <TargetName>MoveOutput</TargetName>
  </GraphicalBlockLink>
  <GraphicalBlock>
    <Constant>
      <entries />
      <name>Constant</name>
      <gain>1</gain>
      <gainMin>-1</gainMin>
      <gainMax>60</gainMax>
      <constants>
        <float>30</float>
        <float>22.5</float>
      </constants>
    </Constant>
    <Position>
      <X>-127</X>
      <Y>420.45788850277881</Y>
    </Position>
  </GraphicalBlock>
  <GraphicalBlock>
    <CommentsBlock>
      <entries />
      <name>CommentsBlock5</name>
      <gain>1</gain>
      <gainMin>-1</gainMin>
      <gainMax>60</gainMax>
      <Commentaires>ouvertures focales</Commentaires>
    </CommentsBlock>
    <Position>
      <X>-164.20333333333335</X>
      <Y>378</Y>
    </Position>
  </GraphicalBlock>
  <GraphicalBlock>
    <BlockDynamicGain>
      <entries>
        <BlockPredecessor>
          <name>BallBlock</name>
          <output_idx>1</output_idx>
          <condition />
          <fire />
        </BlockPredecessor>
        <BlockPredecessor>
          <name>Constant</name>
          <output_idx>0</output_idx>
          <condition />
          <fire />
        </BlockPredecessor>
      </entries>
      <name>BlockDynamicGain</name>
      <gain>1</gain>
      <gainMin>-1</gainMin>
      <gainMax>60</gainMax>
    </BlockDynamicGain>
    <Position>
      <X>317.9616666666667</X>
      <Y>286</Y>
    </Position>
  </GraphicalBlock>
  <GraphicalBlock>
    <BlockDynamicGain>
      <entries>
        <BlockPredecessor>
          <name>BallBlock</name>
          <output_idx>2</output_idx>
          <condition />
          <fire />
        </BlockPredecessor>
        <BlockPredecessor>
          <name>Constant</name>
          <output_idx>1</output_idx>
          <condition />
          <fire />
        </BlockPredecessor>
      </entries>
      <name>BlockDynamicGain1</name>
      <gain>1</gain>
      <gainMin>-1</gainMin>
      <gainMax>60</gainMax>
    </BlockDynamicGain>
    <Position>
      <X>340</X>
      <Y>326</Y>
    </Position>
  </GraphicalBlock>
  <GraphicalBlockLink>
    <Condition />
    <Fire />
    <SourceIndex>1</SourceIndex>
    <TargetIndex>0</TargetIndex>
    <SourceName>BallBlock</SourceName>
    <TargetName>BlockDynamicGain</TargetName>
  </GraphicalBlockLink>
  <GraphicalBlockLink>
    <Condition />
    <Fire />
    <SourceIndex>2</SourceIndex>
    <TargetIndex>0</TargetIndex>
    <SourceName>BallBlock</SourceName>
    <TargetName>BlockDynamicGain1</TargetName>
  </GraphicalBlockLink>
  <GraphicalBlockLink>
    <Condition />
    <Fire />
    <SourceIndex>0</SourceIndex>
    <TargetIndex>1</TargetIndex>
    <SourceName>Constant</SourceName>
    <TargetName>BlockDynamicGain</TargetName>
  </GraphicalBlockLink>
  <GraphicalBlockLink>
    <Condition />
    <Fire />
    <SourceIndex>1</SourceIndex>
    <TargetIndex>1</TargetIndex>
    <SourceName>Constant</SourceName>
    <TargetName>BlockDynamicGain1</TargetName>
  </GraphicalBlockLink>
  <GraphicalBlockLink>
    <Condition />
    <Fire />
    <SourceIndex>0</SourceIndex>
    <TargetIndex>0</TargetIndex>
    <SourceName>BlockDynamicGain</SourceName>
    <TargetName>BlockAddition</TargetName>
  </GraphicalBlockLink>
  <GraphicalBlockLink>
    <Condition />
    <Fire />
    <SourceIndex>0</SourceIndex>
    <TargetIndex>0</TargetIndex>
    <SourceName>BlockDynamicGain1</SourceName>
    <TargetName>BlockAddition1</TargetName>
  </GraphicalBlockLink>
  <GraphicalBlockLink>
    <Condition />
    <Fire />
    <SourceIndex>1</SourceIndex>
    <TargetIndex>3</TargetIndex>
    <SourceName>BallBlock</SourceName>
    <TargetName>SnapshotBlock</TargetName>
  </GraphicalBlockLink>
  <GraphicalBlockLink>
    <Condition />
    <Fire />
    <SourceIndex>2</SourceIndex>
    <TargetIndex>4</TargetIndex>
    <SourceName>BallBlock</SourceName>
    <TargetName>SnapshotBlock</TargetName>
  </GraphicalBlockLink>
  <GraphicalBlockLink>
    <Condition />
    <Fire />
    <SourceIndex>0</SourceIndex>
    <TargetIndex>6</TargetIndex>
    <SourceName>Pan</SourceName>
    <TargetName>MoveOutput</TargetName>
  </GraphicalBlockLink>
  <GraphicalBlockLink>
    <Condition />
    <Fire />
    <SourceIndex>0</SourceIndex>
    <TargetIndex>7</TargetIndex>
    <SourceName>Tilt</SourceName>
    <TargetName>MoveOutput</TargetName>
  </GraphicalBlockLink>
  <GraphicalBlock>
    <VariationBoundBlock>
      <entries />
      <name>VariationBoundBlock</name>
      <gain>1</gain>
      <gainMin>-1</gainMin>
      <gainMax>60</gainMax>
      <min_value>
        <float>-1</float>
      </min_value>
      <max_value>
        <float>1</float>
      </max_value>
      <discount_factor>0</discount_factor>
    </VariationBoundBlock>
    <Position>
      <X>715.60333333333335</X>
      <Y>160.76000000000002</Y>
    </Position>
  </GraphicalBlock>
  <GraphicalBlockLink>
    <Condition />
    <Fire />
    <SourceIndex>0</SourceIndex>
    <TargetIndex>0</TargetIndex>
    <SourceName>BlockDigitalLevel</SourceName>
    <TargetName>VariationBoundBlock</TargetName>
  </GraphicalBlockLink>
  <GraphicalBlockLink>
    <Condition />
    <Fire />
    <SourceIndex>0</SourceIndex>
    <TargetIndex>3</TargetIndex>
    <SourceName>VariationBoundBlock</SourceName>
    <TargetName>MoveOutput</TargetName>
  </GraphicalBlockLink>
  <hsize>500</hsize>
  <vsize>500</vsize>
  <SchemaComments />
  <Frequency>100</Frequency>
  <SmoothStart>1000</SmoothStart>
  <SmoothStop>1000</SmoothStop>
  <Duration>0</Duration>
</GraphicalMotorPrimitive>